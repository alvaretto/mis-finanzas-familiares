// ðŸ”’ REGLAS DE SEGURIDAD PARA FIRESTORE
// Copia estas reglas en Firebase Console > Firestore Database > Rules

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ðŸ‘¤ DATOS DE USUARIOS - Solo el usuario autenticado puede acceder a sus datos
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
      
      // ðŸ“Š TRANSACCIONES - Solo el propietario puede acceder
      match /transactions/{transactionId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      // ðŸ·ï¸ CATEGORÃAS - Solo el propietario puede acceder
      match /categories/{categoryId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      // ðŸ’° ACTIVOS - Solo el propietario puede acceder
      match /assets/{assetId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      // ðŸ’³ PASIVOS - Solo el propietario puede acceder
      match /liabilities/{liabilityId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      // âš™ï¸ CONFIGURACIONES - Solo el propietario puede acceder
      match /settings/{settingId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
    }
    
    // âŒ DENEGAR TODO LO DEMÃS
    match /{document=**} {
      allow read, write: if false;
    }
  }
}

// ðŸ“ INSTRUCCIONES PARA APLICAR:
// 1. Ve a Firebase Console: https://console.firebase.google.com/
// 2. Selecciona tu proyecto: mis-finanzas-familiares-f7298
// 3. Ve a Firestore Database > Rules
// 4. Copia y pega las reglas de arriba
// 5. Haz clic en "Publicar"

// âœ… ESTAS REGLAS GARANTIZAN:
// - Solo usuarios autenticados pueden acceder a datos
// - Cada usuario solo ve sus propios datos
// - No hay acceso cruzado entre usuarios
// - ProtecciÃ³n completa contra acceso no autorizado
